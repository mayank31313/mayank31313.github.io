(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"21ef":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"q-mt-md"},[s("q-card",{staticClass:"q-ma-sm"},[s("q-card-section",{staticClass:"text-weight-bold text-h5 text-secondary"},[t._v("\n              Settings\n          ")]),s("q-card-section",{attrs:{horizontal:""}},[s("div",{staticClass:"row",staticStyle:{width:"100%"}},[s("div",{staticClass:"col-md-4 col-xs-12"},[s("q-card",{attrs:{flat:""}},[s("q-card-section",{staticClass:"text-weight-bold text-h6 text-accent"},[t._v("\n                    Video Settings\n                  ")]),s("q-card-section",[s("q-select",{attrs:{"option-label":function(t){return t.name},options:t.videoSources,label:"Default Video Source"},model:{value:t.settings.defaultMediaSource,callback:function(e){t.$set(t.settings,"defaultMediaSource",e)},expression:"settings.defaultMediaSource"}})],1),s("q-card-section",[s("q-select",{attrs:{"option-label":function(t){return t.name},options:t.videoQualities,label:"Video Quality"},model:{value:t.settings.videoQuality,callback:function(e){t.$set(t.settings,"videoQuality",e)},expression:"settings.videoQuality"}})],1)],1)],1),s("div",{staticClass:"col-md-4 col-xs-12"},[s("q-card",{attrs:{flat:""}},[s("q-card-section",{staticClass:"text-weight-bold text-h6 text-accent"},[t._v("\n                    IFTTT Settings\n                  ")]),s("q-card-section",[s("q-toggle",{attrs:{label:"Enable IFTTT",color:"primary",size:"lg","left-label":""},model:{value:t.settings.ifttt,callback:function(e){t.$set(t.settings,"ifttt",e)},expression:"settings.ifttt"}})],1)],1)],1),s("div",{staticClass:"col"},[s("q-card",{attrs:{flat:""}},[s("q-card-section",{staticClass:"text-weight-bold text-h6 text-accent"},[t._v("\n                    Subscription Details\n                  ")]),s("q-card-section",[s("q-input",{attrs:{label:"Subscription Key #1",outlined:"",dense:"",readonly:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-btn",{staticClass:"q-mr-none",attrs:{flat:"",icon:"refresh"},on:{click:t.changeToken}}),s("q-btn",{staticClass:"q-mr-none",attrs:{flat:"",icon:"content_copy"},on:{click:function(e){return t.copy(t.token)}}})]},proxy:!0}]),model:{value:t.token,callback:function(e){t.token=e},expression:"token"}})],1)],1)],1)])]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{staticClass:"q-px-md q-mr-lg",attrs:{label:"Save",color:"primary"},on:{click:t.saveSettings}})],1)],1)],1)},i=[],n=s("ded3"),o=s.n(n),c=s("2f62"),l=s("cdde"),r={name:"Settings",computed:o()({},Object(c["b"])("global",["getToken"])),mounted(){this.$axios.get(this.$backendUrl+"/auth/user/videoSource/list",{headers:{Authorization:"Bearer "+this.getToken()}}).then((t=>{console.log(t.data),this.videoSources=t.data})),this.$axios.get(this.$backendUrl+"/auth/user/videoSource/quality/list",{headers:{Authorization:"Bearer "+this.getToken()}}).then((t=>{this.videoQualities=t.data})),this.$axios.get(this.$backendUrl+"/auth/user/token",{headers:{Authorization:"Bearer "+this.getToken()}}).then((t=>{this.token=t.data})),this.$axios.get(this.$backendUrl+"/auth/user/settings",{headers:{Authorization:"Bearer "+this.getToken()}}).then((t=>{this.settings=t.data}))},methods:{copy(t){Object(l["a"])(t).then((()=>{console.log("COPIED")})).catch((t=>{console.log("NOT COPPIED!")}))},changeToken(){this.$axios.post(this.$backendUrl+"/auth/user/token",{},{headers:{Authorization:`Bearer ${this.getToken()}`}}).then((t=>{this.token=t.data})).catch((t=>{this.$q.notify({type:"negative",message:"Something went wrong"})}))},saveSettings(){this.settings=o()(o()({},this.settings),{},{defaultMediaSourceId:this.settings.defaultMediaSource.id}),this.$axios.post(this.$backendUrl+"/auth/user/changeSettings",this.settings,{headers:{Authorization:`Bearer ${this.getToken()}`}}).then((t=>{this.$q.notify({type:"info",message:"Setting saved successfully"})})).catch((t=>{this.$q.notify({type:"negative",message:"Something went wrong"})}))}},data(){return{token:"",settings:{defaultMediaSource:{},ifttt:!1,videoQuality:{}},videoSources:[],videoQualities:[]}}},d=r,u=s("2877"),h=s("9989"),g=s("f09f"),f=s("a370"),b=s("ddd8"),p=s("9564"),k=s("27f9"),q=s("9c40"),v=s("4b7e"),m=s("eebe"),S=s.n(m),x=Object(u["a"])(d,a,i,!1,null,null,null);e["default"]=x.exports;S()(x,"components",{QPage:h["a"],QCard:g["a"],QCardSection:f["a"],QSelect:b["a"],QToggle:p["a"],QInput:k["a"],QBtn:q["a"],QCardActions:v["a"]})}}]);